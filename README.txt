TODO
Что сейчас совсем не сделано - это короткие замены.
Примеры формулировок коротких замен
1) Заменить в подпункте 2.2.1 Договора словосочетание «…банковский счет Клиента, указанный …» на словосочетание «…счет(а) Клиента, указанный(е) …».
2) Заменить в тексте Договора словосочетание «…денежная наличность…» на словосочетание «…наличные деньги…» в соответствующих падежах.

И да, в тексте основного документа "наличные деньги", например - это гиперссылка.  

----------------

Разбор html-документов делаем с помощью BeautifulSoup, это единственная нестандартная библиотека, которую необходимо установить.

Пример запуска:
python run.py -il -n 15000

Классы:
1) Docs - хранит информацию о структуре файлов.

2) Document - хранит информацию о документе. 
Это прежде всего папка, имя html-файла, название (берем из xml-файла), полный текст.
Документ также может получать атрибут soup, это полное html-дерево в формате BeautifulSoup. 
При создании Document из soup извлекается человекочитаемый текст. На этапе расстановки ссылок мы модифицируем это html-дерево.

3) Index - объект, который запускает действия
1) добавить в индекс n документов из коллекции
2) (отключено) походить по всем ссылкам и проанализировать их

Основная функция:
add_links - функция, внутри которой логика походить по всем документам, найти пары "документ - изменения и дополнения к документу", найти в "изменениях и дополнениях" собственно тексты модификаций и вставить на соответствующие абзацы ссылки в основной документ

П. 1 работает относительно долго (долго разбирать html), хотя я добавил многопроцессорную обработку. Например, на моем ноутбуке 1000 документов обрабатываются 6-9 минут.
Чтобы можно было добавить много документов и потом с ними экспериментировать, результаты сохраняются (модулем pickle) между этапами.Структура, которую создает BeautifulSoup, не пиклится, поэтому она не сохраняется и потом восстанавливается опять из html.

Сейчас расстановщик ссылок сохраняет модифицированные документы в тех же папках, но под новыми именами (со словом new). Они распечатываются при запуске скрипта, например
data/78F7A55D11A1BC50432583F300499C66/170_2017Н_new.html
data/F3EC3CECF11E773043258074002BDB78/536_2002Н_new.html
data/6347D221BF1BF7C9C32578D8002C1AD3/559_2009Н4_new.html
data/6DC853621F61CF6143257F8C002ED67B/535_2002Н_new.html
data/F06D804D0C977314C32572A7003B39BD/1017_2003Н_new.html
